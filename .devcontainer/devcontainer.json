{
  "name": "CN",
  "image": "mcr.microsoft.com/devcontainers/base:ubuntu-22.04",
  // â­ï¸ 1. ì´ "runArgs" ì†ì„±ì„ features ìœ„ì— ì¶”ê°€í•©ë‹ˆë‹¤.
  "runArgs": [
    // â­ï¸ "cloud_native_finalexam" ë„¤íŠ¸ì›Œí¬ì— Dev Containerë¥¼ ì—°ê²°
    "--network=cloud_native_finalexam"
  ],
  "features": {
    "ghcr.io/devcontainers/features/java:1": {
      "version": "17",
      "additionalVersions": "21"  // ğŸ‘ˆ VS Code í™•ì¥ í”„ë¡œê·¸ë¨ì€ ëª°ë˜ 21ì„ ì‚¬ìš©
    },
    /* ë²„ê·¸ë¡œ ì¸í•´ ì‚¬ìš©x
    "ghcr.io/devcontainers/features/php:1": {
      "version": "8.2"
    */
    "ghcr.io/devcontainers/features/docker-from-docker:1": {
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/python:1": {
      "version": "3.11"
    },
    // â­ï¸ 1. (ì‹ ê·œ) Node.js ê¸°ëŠ¥ ì¶”ê°€ (npx/npmì„ ìœ„í•¨)
    "ghcr.io/devcontainers/features/node:1": {
      "version": "lts" // â­ï¸ "lts" (ìµœì‹  ì•ˆì • ë²„ì „) ì‚¬ìš©
    }
  },
  "onCreateCommand": "sudo apt-get update && sudo apt-get install -y software-properties-common && sudo add-apt-repository ppa:ondrej/php -y && sudo apt-get update && sudo apt-get install -y php8.2 php8.2-cli php8.2-common php8.2-pdo-mysql php8.2-redis libssl-dev default-libmysqlclient-dev zlib1g-dev",
  "customizations": {
    "vscode": {
      "extensions": [
        "vscjava.vscode-java-pack",
        "vmware.vscode-boot-dev-pack",
        "DEVSENSE.phptools-vscode",
        "ms-azuretools.vscode-docker",
        "ms-python.python",
        "ms-python.vscode-pylance",
        "ms-python.black-formatter",
        // â­ï¸ 2. (ì‹ ê·œ) React ê°œë°œìš© í™•ì¥ í”„ë¡œê·¸ë¨ ì¶”ê°€
        "dbaeumer.vscode-eslint", // ì½”ë“œ ì˜¤ë¥˜ ê²€ì‚¬
        "esbenp.prettier-vscode" // ì½”ë“œ ìë™ ì •ë ¬
      ]
    }
  },
  "forwardPorts": [
    8080, // userapi
    8089, // movieapi
    8013, // reviewapi
    8082, // badgeapi
    9000, // gateway
    8000  // verificationapi
  ],
  "postCreateCommand": "java -version && php -v && docker --version"
}